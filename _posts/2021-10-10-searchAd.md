---
layout: post
title: 검색 광고 분석
subtitle: 검색 광고 분석
categories: dev
tags: competition list
class: post-template
comments: true
---



# 패스트캠퍼스 검색광고 데이터 분석
<br>

![searchad1](./img/searchad/searchad1.png)

## 데이터의 구성 : 
![searchad2](./img/searchad/searchad2.png)

## 분석목표 : 
1. 중점관리 키워드, 저효율 키워드 추출
2. 중점관리 광고그룹, 저효율 광고그룹 추출

## 분석과정 : 
1. 데이터 전처리
2. 데이터 탐색
3. 시각화
4. 데이터분석

### 1. 데이터 전처리
- 학습목표 : 
 1. read_excel함수를 사용하여 파이썬에 데이터 불러오기 
 2. 데이터프레임의 열 단위 수치연산 및 데이터 타입 다루기


```python
import pandas as pd
from pandas import DataFrame
from pandas import Series
```


```python
import matplotlib.pyplot as plt
```


```python
# matplotlib 한글 폰트 출력코드
# 출처 : 데이터공방( https://kiddwannabe.blog.me)

import matplotlib
from matplotlib import font_manager, rc
import platform

try : 
    if platform.system() == 'Windows':
    # 윈도우인 경우
        font_name = font_manager.FontProperties(fname="c:/Windows/Fonts/malgun.ttf").get_name()
        rc('font', family=font_name)
    else:    
    # Mac 인 경우
        rc('font', family='AppleGothic')
except : 
    pass
matplotlib.rcParams['axes.unicode_minus'] = False   
```

### # read_excel함수를 사용하여 파이썬에 데이터 불러오기
- 파이썬의 디렉토리 경로구분자 : 슬래시(/)
- 운영체제별 디렉토리 경로구분자 
 1. Mac의 경우 : 슬래시(/)
 2. 윈도우의 경우 : 역슬래시(\ or ＼) 


```python
# window의 경우 경로인식에러 발생
df=pd.read_excel('naverreport.xls')
```


```python
# head
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>캠페인보고서(2019.02.01.~2019.04.30.),ftasia</th>
      <th>Unnamed: 1</th>
      <th>Unnamed: 2</th>
      <th>Unnamed: 3</th>
      <th>Unnamed: 4</th>
      <th>Unnamed: 5</th>
      <th>Unnamed: 6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>광고그룹</td>
      <td>키워드</td>
      <td>노출수</td>
      <td>클릭수</td>
      <td>클릭률(%)</td>
      <td>평균클릭비용(VAT포함,원)</td>
      <td>총비용(VAT포함,원)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>2</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324</td>
      <td>0.028475</td>
      <td>4841.66358</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>4</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
  </tbody>
</table>
</div>



### # skiprows 함수 사용으로 불필요한 행 제거


```python
# 첫 행 삭제
df=pd.read_excel('naverreport.xls',skiprows=[0])
```


```python
# head
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606.0</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.0</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324.0</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.6</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>



### # skiprows 사용 예제


```python
# 원본데이터 가져오기
df=pd.read_excel('naverreport.xls')
```


```python
# head
df
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>캠페인보고서(2019.02.01.~2019.04.30.),ftasia</th>
      <th>Unnamed: 1</th>
      <th>Unnamed: 2</th>
      <th>Unnamed: 3</th>
      <th>Unnamed: 4</th>
      <th>Unnamed: 5</th>
      <th>Unnamed: 6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>광고그룹</td>
      <td>키워드</td>
      <td>노출수</td>
      <td>클릭수</td>
      <td>클릭률(%)</td>
      <td>평균클릭비용(VAT포함,원)</td>
      <td>총비용(VAT포함,원)</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>2</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>3</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324</td>
      <td>0.028475</td>
      <td>4841.66358</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>4</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>엑셀셀서식</td>
      <td>24016</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>MATCH</td>
      <td>32287</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>마케팅KPI수립</td>
      <td>LTV</td>
      <td>32602</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>data_camp_rmp_8</td>
      <td>DECISION</td>
      <td>60844</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1381</th>
      <td>4. 웹의 동작</td>
      <td>REST</td>
      <td>61193</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>1382 rows × 7 columns</p>
</div>




```python
# 하나의 행 제거 
df=pd.read_excel('naverreport.xls',skiprows=[1])
```


```python
# head
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>캠페인보고서(2019.02.01.~2019.04.30.),ftasia</th>
      <th>Unnamed: 1</th>
      <th>Unnamed: 2</th>
      <th>Unnamed: 3</th>
      <th>Unnamed: 4</th>
      <th>Unnamed: 5</th>
      <th>Unnamed: 6</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606.0</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.0</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324.0</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.6</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 여러 행 제거
df=pd.read_excel('naverreport.xls',skiprows=[0,2,4])
```


```python
# head
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.0</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.6</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
    <tr>
      <th>3</th>
      <td>6. 파이썬</td>
      <td>파이썬</td>
      <td>384522</td>
      <td>260.4</td>
      <td>0.067720</td>
      <td>3705.360983</td>
      <td>964876</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1. 코딩</td>
      <td>코딩</td>
      <td>562162</td>
      <td>271.2</td>
      <td>0.048242</td>
      <td>3243.215339</td>
      <td>879560</td>
    </tr>
  </tbody>
</table>
</div>



### (강의 진행을 위한 실습데이터 불러오기)


```python
df=pd.read_excel('naverreport.xls',skiprows=[0])
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606.0</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.0</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324.0</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.6</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>



### # 결측치 확인


```python
df.isnull()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>2</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>3</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>4</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1376</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
      <td>False</td>
    </tr>
  </tbody>
</table>
<p>1381 rows × 7 columns</p>
</div>




```python
# 결측치 확인 - 열단위
df.isnull().sum()
```




    광고그룹               0
    키워드                0
    노출수                0
    클릭수                0
    클릭률(%)             0
    평균클릭비용(VAT포함,원)    0
    총비용(VAT포함,원)       0
    dtype: int64




```python
# 결측치 확인 - 행단위
df.isnull().sum(axis=1)
```




    0       0
    1       0
    2       0
    3       0
    4       0
           ..
    1376    0
    1377    0
    1378    0
    1379    0
    1380    0
    Length: 1381, dtype: int64



### # 데이터프레임의 열 단위 수치연산 및 데이터 타입 다루기
- 클릭수(반올림처리, 일의 자리수로 변경)
- 클릭률
- 평균클릭비용(VAT포함,원)


```python
df=pd.read_excel('naverreport.xls',skiprows=[0])
```


```python
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606.0</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.0</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324.0</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.6</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>



- 클릭수 : 한 번의 클릭이 총 몇 번 이루어졌는지 나타내는 지표<br>
=> 반올림처리, 일의 자리수로 변경


```python
# 클릭수 열에 round함수 적용
clk=round(df['클릭수'],0)
```


```python
clk   #반올림 처리 한것을 확인할 수 있다
```




    0       9606.0
    1       8058.0
    2        324.0
    3       1864.0
    4        814.0
             ...  
    1376       0.0
    1377       0.0
    1378       0.0
    1379       0.0
    1380       0.0
    Name: 클릭수, Length: 1381, dtype: float64



### # round함수 활용예제
숫자 예시 : 9606.14574
![searchad4](./img/searchad/searchad4.png)


```python
print(round(9606.14574,-3))
print(round(9606.14574,-2))
print(round(9606.14574,-1))
print(round(9606.14574,0))
print(round(9606.14574,1))
print(round(9606.14574,2))
print(round(9606.14574,3))
print(round(9606.14574,4))
print(round(9606.14574,5))
```

    10000.0
    9600.0
    9610.0
    9606.0
    9606.1
    9606.15
    9606.146
    9606.1457
    9606.14574
    


```python
# clk변수의 4번째 자료 확인
clk[4]
```




    814.0




```python
# clk변수의 5번째 자료 확인
clk[5]
```




    260.0




```python
# 소수점 제거 = 실수(float) => 정수(int)로 변경
clk.astype(int)
```




    0       9606
    1       8058
    2        324
    3       1864
    4        814
            ... 
    1376       0
    1377       0
    1378       0
    1379       0
    1380       0
    Name: 클릭수, Length: 1381, dtype: int32




```python
# 기존 칼럼데이터 대체
df['클릭수']=clk.astype(int)
```


```python
# head
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1864</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>814</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>



- 클릭률 : CTR = 클릭수 / 노출수 * 100<br>
=> 클릭수가 변경되어 기존 클릭률(%) 열 데이터 변경필요


```python
# 데이터프레임의 열은 서로 수치연산 가능 
df['클릭수']/df['노출수']*100
```




    0       0.414149
    1       1.049915
    2       0.028475
    3       0.268547
    4       0.008456
              ...   
    1376    0.000000
    1377    0.000000
    1378    0.000000
    1379    0.000000
    1380    0.000000
    Length: 1381, dtype: float64




```python
df['클릭률(%)']=df['클릭수']/df['노출수']*100
```


```python
# head
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1864</td>
      <td>0.268547</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>814</td>
      <td>0.008456</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 수치연산 예제1
df['노출수']+df['클릭수']
```




    0       2329062
    1        775549
    2       1138164
    3        695970
    4       9627188
             ...   
    1376      24016
    1377      32287
    1378      32602
    1379      60844
    1380      61193
    Length: 1381, dtype: int64




```python
# head
```


```python
# 수치연산 예제2
df['총비용(VAT포함,원)']/df['클릭률(%)']
```




    0       6.066524e+06
    1       2.271580e+06
    2       5.509038e+07
    3       4.376048e+06
    4       1.355146e+08
                ...     
    1376             NaN
    1377             NaN
    1378             NaN
    1379             NaN
    1380             NaN
    Length: 1381, dtype: float64



- 평균클릭비용 : 칼럼명에 원 단위로 명시됨<br>
 => 반올림처리, 일의 자리수로 변경


```python
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1864</td>
      <td>0.268547</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>814</td>
      <td>0.008456</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>




```python
# cpc 변수 생성 ,평균클릭비용 int형으로 변경하기
cpc=round(df['평균클릭비용(VAT포함,원)'],0)
df['평균클릭비용(VAT포함,원)']=cpc.astype(int)
```


```python
# head
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606</td>
      <td>0.414149</td>
      <td>262</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058</td>
      <td>1.049915</td>
      <td>296</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324</td>
      <td>0.028475</td>
      <td>4842</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1864</td>
      <td>0.268547</td>
      <td>631</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>814</td>
      <td>0.008456</td>
      <td>1408</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>



### # 판다스를 활용한 데이터 탐색 실습
- 학습목표 : 
 1. 데이터 탐색과정에서 사용되는 함수를 살펴보고 실전 사례를 통해 사용법을 익힌다.


```python
import pandas as pd
from pandas import DataFrame
from pandas import Series
```


```python
df=pd.read_excel('naverreport.xls',skiprows=[0])
```


```python
#head() - 데이터의 첫 부분 출력, default : 첫 5행
#데이터의 구성,칼럼명 등 대략적인 데이터 파악
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606.0</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.0</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324.0</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.6</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>




```python
#head() - 첫 10행
df.head(10)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606.0</td>
      <td>0.414149</td>
      <td>261.549448</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.0</td>
      <td>1.049915</td>
      <td>295.974808</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324.0</td>
      <td>0.028475</td>
      <td>4841.663580</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.6</td>
      <td>0.268489</td>
      <td>630.593475</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.6</td>
      <td>0.008452</td>
      <td>1408.435349</td>
      <td>1145903</td>
    </tr>
    <tr>
      <th>5</th>
      <td>6. 파이썬</td>
      <td>파이썬</td>
      <td>384522</td>
      <td>260.4</td>
      <td>0.067720</td>
      <td>3705.360983</td>
      <td>964876</td>
    </tr>
    <tr>
      <th>6</th>
      <td>1. 코딩</td>
      <td>코딩</td>
      <td>562162</td>
      <td>271.2</td>
      <td>0.048242</td>
      <td>3243.215339</td>
      <td>879560</td>
    </tr>
    <tr>
      <th>7</th>
      <td>2. C언어 일반</td>
      <td>C언어</td>
      <td>271370</td>
      <td>153.6</td>
      <td>0.056602</td>
      <td>5269.257812</td>
      <td>809358</td>
    </tr>
    <tr>
      <th>8</th>
      <td>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</td>
      <td>가상화폐</td>
      <td>91369</td>
      <td>2838.0</td>
      <td>3.106086</td>
      <td>283.217054</td>
      <td>803770</td>
    </tr>
    <tr>
      <th>9</th>
      <td>AOP 전체_중복키워드_디자인</td>
      <td>포토샵</td>
      <td>1887822</td>
      <td>393.6</td>
      <td>0.020849</td>
      <td>1913.737297</td>
      <td>753247</td>
    </tr>
  </tbody>
</table>
</div>




```python
#tail() - 데이터의 끝 부분 출력, default : 끝 5행
df.tail()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1376</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>엑셀셀서식</td>
      <td>24016</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>MATCH</td>
      <td>32287</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>마케팅KPI수립</td>
      <td>LTV</td>
      <td>32602</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>data_camp_rmp_8</td>
      <td>DECISION</td>
      <td>60844</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>4. 웹의 동작</td>
      <td>REST</td>
      <td>61193</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
#tail() - 끝 10행
df.tail(10)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1371</th>
      <td>7. 운영체제</td>
      <td>가상머신</td>
      <td>16605</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1372</th>
      <td>파이낸스 전체</td>
      <td>부동산책</td>
      <td>16722</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1373</th>
      <td>ㅍ올인원 패키지 : UX/UI 디자인 입문_연관검색어(삭제)</td>
      <td>VD</td>
      <td>17504</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1374</th>
      <td>AOP 전체_중복키워드_디자인</td>
      <td>포토샵단축키</td>
      <td>18818</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1375</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>SUMIF</td>
      <td>23549</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1376</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>엑셀셀서식</td>
      <td>24016</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>MATCH</td>
      <td>32287</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>마케팅KPI수립</td>
      <td>LTV</td>
      <td>32602</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>data_camp_rmp_8</td>
      <td>DECISION</td>
      <td>60844</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>4. 웹의 동작</td>
      <td>REST</td>
      <td>61193</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
#shape - dataframe의 크기(행, 열의 수)
df.shape
```




    (1381, 7)




```python
#describe() - 각 열에 대한 기술통계량
#데이터의 수, 평균, 표준편차, 최소값, 1사분위수, 2사분위수, 3사분위수, 최대값
#지수 표기법(Exponential Notation, 10**n)
df.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1.381000e+03</td>
      <td>1381.000000</td>
      <td>1381.000000</td>
      <td>1381.000000</td>
      <td>1.381000e+03</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>3.505415e+04</td>
      <td>52.530630</td>
      <td>0.352871</td>
      <td>981.631682</td>
      <td>3.791958e+04</td>
    </tr>
    <tr>
      <th>std</th>
      <td>2.964650e+05</td>
      <td>387.502772</td>
      <td>1.000468</td>
      <td>1372.390031</td>
      <td>1.421492e+05</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1.001000e+03</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.000000e+00</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1.814000e+03</td>
      <td>1.200000</td>
      <td>0.007152</td>
      <td>64.166667</td>
      <td>7.700000e+01</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3.805000e+03</td>
      <td>3.600000</td>
      <td>0.061031</td>
      <td>395.976793</td>
      <td>2.123000e+03</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>1.073400e+04</td>
      <td>14.400000</td>
      <td>0.237026</td>
      <td>1302.812500</td>
      <td>1.743500e+04</td>
    </tr>
    <tr>
      <th>max</th>
      <td>9.626374e+06</td>
      <td>9606.000000</td>
      <td>13.587402</td>
      <td>9362.527778</td>
      <td>2.512444e+06</td>
    </tr>
  </tbody>
</table>
</div>




```python
#pandas출력 옵션설정 - float형식으로 수치표기  
pd.set_option('display.float_format', '{:.2f}'.format) # 항상 float 형식으로
```


```python
#describe()
df.describe()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1381.00</td>
      <td>1381.00</td>
      <td>1381.00</td>
      <td>1381.00</td>
      <td>1381.00</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>35054.15</td>
      <td>52.53</td>
      <td>0.35</td>
      <td>981.63</td>
      <td>37919.58</td>
    </tr>
    <tr>
      <th>std</th>
      <td>296465.03</td>
      <td>387.50</td>
      <td>1.00</td>
      <td>1372.39</td>
      <td>142149.16</td>
    </tr>
    <tr>
      <th>min</th>
      <td>1001.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>1814.00</td>
      <td>1.20</td>
      <td>0.01</td>
      <td>64.17</td>
      <td>77.00</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>3805.00</td>
      <td>3.60</td>
      <td>0.06</td>
      <td>395.98</td>
      <td>2123.00</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>10734.00</td>
      <td>14.40</td>
      <td>0.24</td>
      <td>1302.81</td>
      <td>17435.00</td>
    </tr>
    <tr>
      <th>max</th>
      <td>9626374.00</td>
      <td>9606.00</td>
      <td>13.59</td>
      <td>9362.53</td>
      <td>2512444.00</td>
    </tr>
  </tbody>
</table>
</div>




```python
#columns - 칼럼명 반환
df.columns
```




    Index(['광고그룹', '키워드', '노출수', '클릭수', '클릭률(%)', '평균클릭비용(VAT포함,원)',
           '총비용(VAT포함,원)'],
          dtype='object')




```python
#unique() - 열(시리즈)의 고유값
#df['광고그룹']
df['광고그룹'].unique()
```




    array(['올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵', '올인원 패키지 : 업무자동화_VBA',
           'ㅍAOP 전체_중복키워드_디자인(삭제)', '올인원 패키지 : 데이터 분석 입문 온라인_파콘', '3. html',
           '6. 파이썬', '1. 코딩', '2. C언어 일반', '프로그래밍 전체_파워컨텐츠_블록체인(삭제)',
           'AOP 전체_중복키워드_디자인', '디지털 마케팅 스쿨 13기_대표키워드', '인스타그램 마케팅',
           '블록체인 신사업 시작하기', 'AOP 전체_중복키워드_비지니스', '올인원 패키지 : 업무자동화_2. 파이썬',
           '올인원 패키지 : 1인 쇼핑몰 시작하기_00.창업_PC', '올인원 패키지 : 영상 제작/편집_6.프리미어프로',
           '1. 모바일앱개발_교육', '올인원 패키지 : UX/UI 디자인 입문_연관검색어',
           '올인원 패키지 : 데이터 분석 입문(파컨)', 'JavaScript BOOT CAMP', '1. 일반_PC',
           'AOP 전체_중복키워드_공통', 'AOP 전체_중복키워드_프로그래밍', '003.퍼포먼스 마케팅',
           '2. 프로그래밍', '마케팅 유치원', '올인원 패키지 : 업무자동화_1. 자동화', '올인원 패키지 : 브랜딩',
           'ㅍ올인원 패키지 : 브랜딩', '올인원 패키지 : 콘텐츠 마케팅_카피라이팅',
           'AOP 전체_중복키워드_데이터사이언스', '8. 시스템 프로그래밍',
           'ㅍ올인원 패키지 : UX/UI 디자인 입문_연관검색어(삭제)', '올인원 패키지 : 프로그래밍 첫걸음 시작하기',
           '페이스북&인스타그램 마케팅 실전', 'Python & Django를 활용한 웹 서비스_개발자', '5. 자료구조',
           'fin_camp_auction_6', '올인원 패키지 : 1인 쇼핑몰_00.창업_MO', '타이포그래피와 편집디자인',
           '올인원 패키지 : 디지털 마케팅_1. 디지털 마케팅', 'AOP 전체_중복키워드_마케팅',
           '마케터를 위한 데이터 부트캠프', '코딩으로 여행하는 블록체인 서비스',
           '올인원 패키지 : 1인 쇼핑몰 시작하기_02.쇼핑몰구축', '상업용 부동산 실무 입문 4기',
           '포토샵 유치원_일러스트레이터 유치원', '고객의 마음을 읽는 구글애널리틱스',
           '왕초보의 파이썬 웹 프로그래밍 CAMP', '올인원 패키지 : 콘텐츠 마케팅_영상바이럴', '마케팅KPI수립',
           '프로그래밍 유치원', 'ㅍAOP 전체_중복키워드_프로그래밍(삭제)', '#000_마케팅 전체_main',
           'SEO/SEM 전략', '올인원 패키지 : 투자_파워콘텐츠', 'ㅍAOP 전체_중복키워드_공통(삭제)',
           '올인원 패키지 : 콘텐츠 마케팅_대표키워드', '올인원 패키지 : 파이썬 웹 개발_2.프론트엔드기초',
           '올인원 패키지 : 업무자동화_4. VBA', '올인원 패키지 : 금융공학/퀀트_01.파이썬기본&자동화',
           'TensorFlow로 시작하는 딥러닝 입문', '올인원 패키지 : 업무자동화_3. 엑셀', '002.마케팅 입문',
           '올인원 패키지 : 그로스해킹_5.마케팅 분석', '1. 데이터분석입문_일반', 'data_camp_rmp_8',
           'ㅍAOP 전체_중복키워드_마케팅(삭제)', '올인원 패키지 : 게임 개발', '마케터를 위한 데이터 해석 실전',
           '마케팅 전체', '1. 경영 일반', 'Vue로 구현하는 PWA CAMP', '1. 전체',
           '001.데이터분석/ 통계', '5. javascript', 'ㅍ1. 전체',
           '올인원 패키지 : 1인 쇼핑몰 시작하기_05.상품촬영', '1. 컴퓨터공학 일반',
           '올인원 패키지 : 파이썬 웹 개발_3.FLASK기초', '올인원 패키지 : 디지털 마케팅_2. 페이스북 광고',
           '올인원 패키지 : 영상 제작/편집_2.영상제작이론', '대기업을 이기는 브랜딩 전략',
           '올인원 패키지 : 영상 제작/편집_9.유튜브/유튜버', '올인원 패키지 : 금융공학/퀀_03.금융공학',
           '올인원 패키지 : 리더를 위한 HR/인재경영_1.인재', '내 아이템에 맞는 영상 콘텐츠 기획/제작',
           'ㅍAOP 전체_중복키워드_데이터사이언스(삭제)', '올인원 패키지 : 그로스해킹_1.용어',
           '1_벤처캐피탈에 대한 이해(벤처캐피탈)', '1. 일반_MO', '002.R',
           'PYTHON & DJANGO를 활용한  웹 서비스 개발', '올인원 패키지 : 디지털 마케팅_3. 구글 광고',
           '올인원 패키지 : 1인 쇼핑몰 시작하기_06.해외쇼핑몰', 'LaTeX를 활용한 효율적 논문작성 Workshop',
           '인디자인 유치원', 'ㅍAOP 전체_중복키워드_비지니스(삭제)', '딥러닝으로 배우는 병렬처리 CAMP',
           '올인원 패키지 : 영상 제작/편집_3.촬영 기법/장비1', '올인원 패키지 : FAST MBA_파워컨텐츠_아마존',
           '7. 운영체제', '실전 웹/앱 프로젝트 기획', '2_투자유치를 위한 사업계획서 작성(투자유치)',
           '올인원 패키지 : 영상 제작/편집_10.패캠강의', '올인원 패키지 : 1인 쇼핑몰 시작하기_01.플랫폼',
           '다빈치리졸브와 컬러그레이딩', '파이썬을 통한 금융 데이터 수집과 분석 자동화 16기',
           '실전 웹 UX/UI 디자인', '올인원 패키지 : 영상 제작/편집_7.에프터이펙트', '파이썬 텍스트 마이닝',
           'data_camp_pcda_3', '5_초기 스타트업 실제 투자사례(창업자)', '1. 모바일앱개발_세부',
           'Python & Django를 활용한 웹 서비스_일반', '005.머신러닝',
           '올인원 패키지 : 영상 제작/편집_5.일러스트', '구글 광고', '올인원 패키지 : 영상 제작/편집_1.크리에이터',
           '딥러닝으로 배우는 병렬처리 CAMP_구버전', '건강한 조직을 만드는 HR 전략 WORKSHOP',
           '6.  컴퓨터구조', '003.파이썬', 'fin_camp_modeling_15', 'Apache Spark',
           '올인원 패키지 : 금융공학/퀀_02.R활용금융데이터분석', '모바일 앱 UX/UI 디자인',
           '001.BASIC DESIGN', '올인원 패키지 : 영상 제작/편집_8.파이널컷 프로',
           '1. 앱웹서비스기획_일반', '프로그래밍 전체', '리눅스 인프라',
           'OpenCV와 함께하는 컴퓨터 비전 프로그래밍', '서비스 기획 스쿨 5기_구글 연관검색어',
           '올인원 패키지 : 금융공학/퀀트_00.일반', '올인원 패키지 : 리더를 위한 HR/인재경영_2.리더십',
           '4_벤처캐피탈 투자계약(벤처 투자)', 'fin_camp_rdev_4', '파이낸스 전체',
           'typescript 실전 workshop', '비즈니스 전체', '4. css', '영상 콘텐츠 디자인 유치원',
           '올인원 패키지 : 디지털 마케팅_5. 태그매니저', '007.빅데이터',
           '모바일 앱 GUI 포트폴리오 디자인 LAB', '올인원 패키지 : 디지털 마케팅_8. 검색 마케팅',
           'Javascript 정복 프로젝트', '올인원 패키지 : 콘텐츠 마케팅_콘텐츠 제작',
           '올인원 패키지 : 디지털 마케팅_트위터광고', '올인원 패키지 : 1인 쇼핑몰 시작하기_04.호스팅사',
           '쉽고 재미있는 재무제표 분석 17기', '1_2 대표 경쟁', 'Java 웹 프로그래밍 마스터 4기 : 3개월',
           '올인원 패키지 : 그로스해킹_2.그로스해킹', '크리에이티브 전체', '002.UX/UI',
           'fin_camp_feasibilitystudy_18', 'Vue.js 정복 CAMP', '4. 웹의 동작',
           '머신러닝을 위한 선형대수학', '6_스타트업 M&A에 대한 단상(스타트업)', 'iOS 개발 스쿨 9기_기존 키워드',
           '006.딥러닝', 'UX 디자인 실전', '디지털 마케팅', '올인원 패키지 : 리더를 위한 HR/인재경영_5.HR',
           '올인원 패키지 : 영상 제작/편집_4.포토샵', '데이터 사이언스 전체',
           '올인원 패키지 : 파이썬 웹 개발_4.Django', '올인원 패키지 : 리더를 위한 HR/인재경영_3.온보딩',
           '3. 파이썬', '컴퓨터공학으로 풀어낸 블록체인 코어 CAMP', '7_How to 벤처캐피탈',
           '3_기업가치평가 방법론', '자율주행 연구를 위한 ROS·SLAM Workshop',
           '프론트엔드 개발 스쿨 12기_기존 키워드', '개발자와 협업하는 디자이너를 위한 실무 역량 강화',
           '올인원 패키지 : 1인 쇼핑몰 시작하기_03.결제시스템', '웹 프로그래밍 스쿨 10기_기존 키워드',
           '올인원 패키지 : 디지털 마케팅_인스타광고', '다함께 DDD 프로젝트', 'fin_camp_rfs_9',
           'Hyperledger Fabric 프로젝트 CAMP', 'fin_camp_business_4'],
          dtype=object)




```python
#len, unique()
#df['광고그룹']
len(df['광고그룹'].unique())
```




    186




```python
#unique()
#df['키워드']
df['키워드'].unique()
```




    array(['-', '일러스트', 'HTML', ..., 'MATCH', 'DECISION', 'REST'],
          dtype=object)




```python
#len, unique()
#df['키워드']
len(df['키워드'].unique())
```




    1112




```python
#value_counts() - 열의 고유값 빈도
#df['광고그룹']
df['광고그룹'].value_counts()
```




    올인원 패키지 : 업무자동화_3. 엑셀        93
    AOP 전체_중복키워드_디자인             57
    #000_마케팅 전체_main             48
    ㅍAOP 전체_중복키워드_디자인(삭제)        46
    타이포그래피와 편집디자인                26
                                 ..
    올인원 패키지 : 금융공학/퀀트_00.일반       1
    컴퓨터공학으로 풀어낸 블록체인 코어 CAMP      1
    쉽고 재미있는 재무제표 분석 17기           1
    올인원 패키지 : 데이터 분석 입문(파컨)       1
    올인원 패키지 : 영상 제작/편집_5.일러스트     1
    Name: 광고그룹, Length: 186, dtype: int64




```python
#value_counts()
#df['키워드']
df['키워드'].value_counts()
```




    -         8
    구글광고      5
    GUI       5
    포토샵       5
    브랜딩       4
             ..
    SNS홍보     1
    금융스터디     1
    ILLUST    1
    영상학원      1
    엑셀다중조건    1
    Name: 키워드, Length: 1112, dtype: int64




```python
#sort_values() - 정렬(default : 오름차순)
#노출수 기준 정렬
df['노출수'].sort_values()
```




    1057       1001
    445        1003
    597        1005
    983        1006
    442        1007
             ...   
    13      1470452
    9       1887822
    0       2319456
    173     3095998
    4       9626374
    Name: 노출수, Length: 1381, dtype: int64




```python
#sort_values(ascending=False) - 내림차순 정렬
#노출수 기준 정렬
df['노출수'].sort_values(ascending=False)
```




    4       9626374
    173     3095998
    0       2319456
    9       1887822
    13      1470452
             ...   
    442        1007
    983        1006
    597        1005
    445        1003
    1057       1001
    Name: 노출수, Length: 1381, dtype: int64




```python
#sort_values - 정렬(default : 오름차순)
#클릭수 기준 정렬
df['클릭수'].sort_values()
```




    1380      0.00
    1159      0.00
    1160      0.00
    1161      0.00
    1162      0.00
             ...  
    26     2535.60
    83     2798.40
    8      2838.00
    1      8058.00
    0      9606.00
    Name: 클릭수, Length: 1381, dtype: float64




```python
#sort_values(ascending=False) 정렬(내림차순)
#클릭수
df['클릭수'].sort_values(ascending=False)
```




    0      9606.00
    1      8058.00
    8      2838.00
    83     2798.40
    26     2535.60
             ...  
    1163      0.00
    1162      0.00
    1160      0.00
    1159      0.00
    1380      0.00
    Name: 클릭수, Length: 1381, dtype: float64



# 시각화를 통한 데이터 탐색 실습

- 학습목표 : 
 1. 현업의 데이터를 사용하여 데이터 시각화를 실습한다.
 2. 데이터를 가공,처리하여 시각화를 진행한다.

- chapter1 - 03. 시각화 라이브러리 matplotlib  
- 시리즈 시각화


```python
import pandas as pd
from pandas import DataFrame
from pandas import Series
```


```python
import matplotlib.pyplot as plt
```


```python
# matplotlib 한글 폰트 출력코드
# 출처 : 데이터공방( https://kiddwannabe.blog.me)

import matplotlib
from matplotlib import font_manager, rc
import platform

try : 
    if platform.system() == 'Windows':
    # 윈도우인 경우
        font_name = font_manager.FontProperties(fname="c:/Windows/Fonts/malgun.ttf").get_name()
        rc('font', family=font_name)
    else:    
    # Mac 인 경우
        rc('font', family='AppleGothic')
except : 
    pass
matplotlib.rcParams['axes.unicode_minus'] = False   
```


```python
#노출수 칼럼 시각화
#데이터프레임 시각화 <-> 시리즈 시각화
#type함수
type(df['노출수'])
```




    pandas.core.series.Series




```python
#plotting
df['노출수'].plot()
plt.show()
```


    
![output_77_0.png](./img/searchad/output_77_0.png)
    


- 명확한 패턴이 보일 수 있도록 데이터시각화 진행
 1. as-is : index를 기준으로 출력(그래프의 x축이 시리즈의 인덱스)
 2. <u>to-be : 정렬된 value를 기준으로 출력</u><br>
  2-1. 시리즈의 value를 수치 순서대로 오름차순 정렬<br>
  2-2. 정렬된 데이터의 형태대로 index 재생성 후 시각화


```python
#보충예제 - chapter 1 - 03. 시각화 라이브러리 matplotlib 
dict_data={"철수":[1,2,3,4],"영희":[2,3,4,5],"민수":[3,4,5,6],"수진":[4,5,6,7]}
data=DataFrame(dict_data)
#철수 칼럼(데이터프레임의 열 = 시리즈 자료구조) 출력
data['철수']
```




    0    1
    1    2
    2    3
    3    4
    Name: 철수, dtype: int64




```python
#plotting
#시리즈의 index가 x축, value가 y축
data['철수'].plot()
plt.show()
```


    
![output_80_0](./img/searchad/output_80_0.png)
    



```python
#시리즈의 index가 x축, value가 y축
df['노출수'].head()
```




    0    2319456
    1     767491
    2    1137840
    3     694106
    4    9626374
    Name: 노출수, dtype: int64




```python
#plotting
df['노출수'].plot()
plt.show()
```


    
![output_82_0](./img/searchad/output_82_0.png)
    


- 패턴이 명확하게 드러나도록 데이터시각화 진행
 1. as-is : index를 기준으로 출력(그래프의 x축이 시리즈의 인덱스)
 2. <u>to-be : 정렬된 value를 기준으로 출력</u><br>
  2-1. 시리즈의 value를 수치 순서대로 오름차순 정렬<br>
  2-2. 정렬된 데이터의 형태대로 index 재생성 후 시각화


```python
#2-1. 시리즈의 value를 수치 순서대로 오름차순 정렬
#노출수 칼럼, sort_values()
imp_sort=df['노출수'].sort_values()
```


```python
#imp_sort 변수 출력
imp_sort
```




    1057       1001
    445        1003
    597        1005
    983        1006
    442        1007
             ...   
    13      1470452
    9       1887822
    0       2319456
    173     3095998
    4       9626374
    Name: 노출수, Length: 1381, dtype: int64




```python
#reset_index() - 인덱스 재생성, 기존 인덱스를 데이터프레임의 열로 반환
imp_sort=imp_sort.reset_index()
```


```python
#imp_sort 변수 출력
imp_sort
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>노출수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1057</td>
      <td>1001</td>
    </tr>
    <tr>
      <th>1</th>
      <td>445</td>
      <td>1003</td>
    </tr>
    <tr>
      <th>2</th>
      <td>597</td>
      <td>1005</td>
    </tr>
    <tr>
      <th>3</th>
      <td>983</td>
      <td>1006</td>
    </tr>
    <tr>
      <th>4</th>
      <td>442</td>
      <td>1007</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1376</th>
      <td>13</td>
      <td>1470452</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>9</td>
      <td>1887822</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>0</td>
      <td>2319456</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>173</td>
      <td>3095998</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>4</td>
      <td>9626374</td>
    </tr>
  </tbody>
</table>
<p>1381 rows × 2 columns</p>
</div>




```python
#drop('삭제할 인덱스명', axis=1) - 삭제(열 기준)
imp_sort.drop('index',axis=1)
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1001</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1003</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1005</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1006</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1007</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1376</th>
      <td>1470452</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>1887822</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>2319456</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>3095998</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>9626374</td>
    </tr>
  </tbody>
</table>
<p>1381 rows × 1 columns</p>
</div>




```python
#imp_sort 변수 출력
imp_sort
#해당 변수의 index 칼럼 미삭제
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>노출수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1057</td>
      <td>1001</td>
    </tr>
    <tr>
      <th>1</th>
      <td>445</td>
      <td>1003</td>
    </tr>
    <tr>
      <th>2</th>
      <td>597</td>
      <td>1005</td>
    </tr>
    <tr>
      <th>3</th>
      <td>983</td>
      <td>1006</td>
    </tr>
    <tr>
      <th>4</th>
      <td>442</td>
      <td>1007</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>1376</th>
      <td>13</td>
      <td>1470452</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>9</td>
      <td>1887822</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>0</td>
      <td>2319456</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>173</td>
      <td>3095998</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>4</td>
      <td>9626374</td>
    </tr>
  </tbody>
</table>
<p>1381 rows × 2 columns</p>
</div>




```python
#inplace=True
imp_sort.drop('index',axis=1,inplace=True)
```


```python
#imp_sort 변수 출력, 
#기존 변수의 index칼럼 삭제 확인
imp_sort
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1001</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1003</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1005</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1006</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1007</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
    </tr>
    <tr>
      <th>1376</th>
      <td>1470452</td>
    </tr>
    <tr>
      <th>1377</th>
      <td>1887822</td>
    </tr>
    <tr>
      <th>1378</th>
      <td>2319456</td>
    </tr>
    <tr>
      <th>1379</th>
      <td>3095998</td>
    </tr>
    <tr>
      <th>1380</th>
      <td>9626374</td>
    </tr>
  </tbody>
</table>
<p>1381 rows × 1 columns</p>
</div>




```python
#imp_sort plotting
imp_sort.plot()
plt.show()
```


    
![output_92_0](./img/searchad/output_92_0.png)
    



```python
#클릭수칼럼 시각화 
#sort_values(),reset_index(),drop('index',axis=1),plot - 한줄 코딩(괄호사용)
(((df['클릭수'].sort_values()).reset_index()).drop('index',axis=1)).plot()
plt.show()
```


    
![output_93_0](./img/searchad/output_93_0.png)
    



```python
#총비용칼럼 시각화
#위 코드에서 칼럼명만 변경
(((df['총비용(VAT포함,원)'].sort_values()).reset_index()).drop('index',axis=1)).plot()
plt.show()
```


    
![output_94_0](./img/searchad/output_94_0.png)
    


# 데이터 분석
- 학습목표 : 
 1. 파이썬과 판다스를 사용하여 데이터를 처리, 분석할 수 있다.

## 중점관리키워드 추출
- 노출수, 클릭수 기준 상위 5%에 해당하는 키워드 추출 
 1. 95백분위수 찾기(quantile 함수 사용)
 2. 95백분위수 이상(상위 5%)의 노출수 추출
 3. 상위 5%에 해당하는 키워드 추출


```python
#노출수 칼럼 imp변수에 할당
imp=df['노출수']
```


```python
#1. 95백분위수 찾기
#quantile - 분위수 출력(default : 2사분위수(중앙값))
imp.quantile()
```




    3805.0




```python
#median - 중앙값
imp.median()
```




    3805.0




```python
#quantile(0) - 최소값
print(imp.quantile(0))
print(imp.min())
```

    1001.0
    1001
    


```python
#quantile(1) - 최대값
print(imp.quantile(1))
print(imp.max())
```

    9626374.0
    9626374
    


```python
#95백분위수 = quantile(0.95)
imp.quantile(0.95)
```




    82858.0




```python
#2. 95백분위수 이상(상위 5%)의 노출수 추출
#series[condition]
imp=imp[imp>=imp.quantile(0.95)]
```


```python
#imp 출력
imp
```




    0      2319456
    1       767491
    2      1137840
    3       694106
    4      9626374
            ...   
    698     196862
    741      94933
    763      82858
    777     126393
    780      90041
    Name: 노출수, Length: 70, dtype: int64



3. 상위 5%에 해당하는 키워드 추출<br>
 -기존 상위 노출수 추출과정
   1. as-is : 데이터프레임의 기본숫자인덱스 
   2. to-be : 데이터프레임의 인덱스를 '키워드'로 재설정


```python
#실습예제 원본
#head()
df.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>-</td>
      <td>2319456</td>
      <td>9606.00</td>
      <td>0.41</td>
      <td>261.55</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>1</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>-</td>
      <td>767491</td>
      <td>8058.00</td>
      <td>1.05</td>
      <td>295.97</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>2</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>일러스트</td>
      <td>1137840</td>
      <td>324.00</td>
      <td>0.03</td>
      <td>4841.66</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>3</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>-</td>
      <td>694106</td>
      <td>1863.60</td>
      <td>0.27</td>
      <td>630.59</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3. html</td>
      <td>HTML</td>
      <td>9626374</td>
      <td>813.60</td>
      <td>0.01</td>
      <td>1408.44</td>
      <td>1145903</td>
    </tr>
  </tbody>
</table>
</div>




```python
#데이터프레임의 인덱스를 키워드로 변경
#set_index('키워드')
df_index=df.set_index('키워드')
```


```python
#df_index 
df_index
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>키워드</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>2319456</td>
      <td>9606.00</td>
      <td>0.41</td>
      <td>261.55</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>767491</td>
      <td>8058.00</td>
      <td>1.05</td>
      <td>295.97</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>일러스트</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>1137840</td>
      <td>324.00</td>
      <td>0.03</td>
      <td>4841.66</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>694106</td>
      <td>1863.60</td>
      <td>0.27</td>
      <td>630.59</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>HTML</th>
      <td>3. html</td>
      <td>9626374</td>
      <td>813.60</td>
      <td>0.01</td>
      <td>1408.44</td>
      <td>1145903</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>엑셀셀서식</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>24016</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>MATCH</th>
      <td>올인원 패키지 : 업무자동화_3. 엑셀</td>
      <td>32287</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>LTV</th>
      <td>마케팅KPI수립</td>
      <td>32602</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>DECISION</th>
      <td>data_camp_rmp_8</td>
      <td>60844</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>REST</th>
      <td>4. 웹의 동작</td>
      <td>61193</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>1381 rows × 6 columns</p>
</div>




```python
#df_index에서 imp변수 생성 및 quantile(0.95)
imp=df_index['노출수']
```


```python
#imp 변수 출력, 노출수 상위 5% 키워드 추출
imp=imp[imp>=imp.quantile(0.95)]
```


```python
imp
```




    키워드
    -         2319456
    -          767491
    일러스트      1137840
    -          694106
    HTML      9626374
               ...   
    부동산스터디     196862
    가상메모리       94933
    프로모션        82858
    앱스토어       126393
    OS          90041
    Name: 노출수, Length: 70, dtype: int64




```python
#df_index에서 클릭수 상위 5% 키워드 추출
clk=df_index['클릭수']
clk=clk[clk>=clk.quantile(0.95)]
```


```python
#clk 변수 출력, 클릭수 상위 5% 키워드 출력
clk
```




    키워드
    -         9606.00
    -         8058.00
    일러스트       324.00
    -         1863.60
    HTML       813.60
                ...  
    재태크        126.00
    모스자격증      198.00
    펀드하는법      248.40
    채권투자       135.60
    주식투자하는법    120.00
    Name: 클릭수, Length: 70, dtype: float64



### # 중점관리키워드 선별
 - 노출수와 클릭수 모두 95백분위수 이상
 
### # 조건이 여러개일  경우 
 - 데이터프레임[(조건문)&(조건문)]


```python
#df_index에서 imp, clk 변수 생성
imp=df_index['노출수']
clk=df_index['클릭수']
```


```python
#노출수와 클릭수 모두 상위5%(95백분위수 이상) 추출
result=df_index[(imp>=imp.quantile(0.95))&(clk>=clk.quantile(0.95))]
```


```python
#result변수 출력
result
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>광고그룹</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>키워드</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>2319456</td>
      <td>9606.00</td>
      <td>0.41</td>
      <td>261.55</td>
      <td>2512444</td>
    </tr>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>767491</td>
      <td>8058.00</td>
      <td>1.05</td>
      <td>295.97</td>
      <td>2384965</td>
    </tr>
    <tr>
      <th>일러스트</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>1137840</td>
      <td>324.00</td>
      <td>0.03</td>
      <td>4841.66</td>
      <td>1568699</td>
    </tr>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 데이터 분석 입문 온라인_파콘</td>
      <td>694106</td>
      <td>1863.60</td>
      <td>0.27</td>
      <td>630.59</td>
      <td>1175174</td>
    </tr>
    <tr>
      <th>HTML</th>
      <td>3. html</td>
      <td>9626374</td>
      <td>813.60</td>
      <td>0.01</td>
      <td>1408.44</td>
      <td>1145903</td>
    </tr>
    <tr>
      <th>파이썬</th>
      <td>6. 파이썬</td>
      <td>384522</td>
      <td>260.40</td>
      <td>0.07</td>
      <td>3705.36</td>
      <td>964876</td>
    </tr>
    <tr>
      <th>코딩</th>
      <td>1. 코딩</td>
      <td>562162</td>
      <td>271.20</td>
      <td>0.05</td>
      <td>3243.22</td>
      <td>879560</td>
    </tr>
    <tr>
      <th>C언어</th>
      <td>2. C언어 일반</td>
      <td>271370</td>
      <td>153.60</td>
      <td>0.06</td>
      <td>5269.26</td>
      <td>809358</td>
    </tr>
    <tr>
      <th>가상화폐</th>
      <td>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</td>
      <td>91369</td>
      <td>2838.00</td>
      <td>3.11</td>
      <td>283.22</td>
      <td>803770</td>
    </tr>
    <tr>
      <th>포토샵</th>
      <td>AOP 전체_중복키워드_디자인</td>
      <td>1887822</td>
      <td>393.60</td>
      <td>0.02</td>
      <td>1913.74</td>
      <td>753247</td>
    </tr>
    <tr>
      <th>블록체인</th>
      <td>블록체인 신사업 시작하기</td>
      <td>200243</td>
      <td>236.40</td>
      <td>0.12</td>
      <td>2721.99</td>
      <td>643478</td>
    </tr>
    <tr>
      <th>엑셀</th>
      <td>AOP 전체_중복키워드_비지니스</td>
      <td>1470452</td>
      <td>450.00</td>
      <td>0.03</td>
      <td>1408.66</td>
      <td>633897</td>
    </tr>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 데이터 분석 입문(파컨)</td>
      <td>139717</td>
      <td>618.00</td>
      <td>0.44</td>
      <td>636.45</td>
      <td>393327</td>
    </tr>
    <tr>
      <th>포토샵</th>
      <td>올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵</td>
      <td>124068</td>
      <td>2535.60</td>
      <td>2.04</td>
      <td>150.40</td>
      <td>381359</td>
    </tr>
    <tr>
      <th>컴퓨터활용능력</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>139729</td>
      <td>1534.80</td>
      <td>1.10</td>
      <td>239.21</td>
      <td>367147</td>
    </tr>
    <tr>
      <th>컴퓨터활용능력2급</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>88751</td>
      <td>1282.80</td>
      <td>1.45</td>
      <td>233.91</td>
      <td>300058</td>
    </tr>
    <tr>
      <th>컴퓨터활용능력1급</th>
      <td>올인원 패키지 : 업무자동화_VBA</td>
      <td>94757</td>
      <td>1191.60</td>
      <td>1.26</td>
      <td>236.67</td>
      <td>282018</td>
    </tr>
    <tr>
      <th>포토샵</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>1021846</td>
      <td>157.20</td>
      <td>0.02</td>
      <td>1625.16</td>
      <td>255475</td>
    </tr>
    <tr>
      <th>-</th>
      <td>올인원 패키지 : 프로그래밍 첫걸음 시작하기</td>
      <td>88800</td>
      <td>598.80</td>
      <td>0.67</td>
      <td>351.79</td>
      <td>210650</td>
    </tr>
    <tr>
      <th>프리미어프로</th>
      <td>AOP 전체_중복키워드_디자인</td>
      <td>213033</td>
      <td>132.00</td>
      <td>0.06</td>
      <td>1573.50</td>
      <td>207702</td>
    </tr>
    <tr>
      <th>폰트</th>
      <td>타이포그래피와 편집디자인</td>
      <td>478588</td>
      <td>474.00</td>
      <td>0.10</td>
      <td>395.98</td>
      <td>187693</td>
    </tr>
    <tr>
      <th>스케치</th>
      <td>AOP 전체_중복키워드_디자인</td>
      <td>200487</td>
      <td>133.20</td>
      <td>0.07</td>
      <td>1165.57</td>
      <td>155254</td>
    </tr>
    <tr>
      <th>포토샵</th>
      <td>포토샵 유치원_일러스트레이터 유치원</td>
      <td>691814</td>
      <td>129.60</td>
      <td>0.02</td>
      <td>1051.54</td>
      <td>136279</td>
    </tr>
    <tr>
      <th>글씨체</th>
      <td>타이포그래피와 편집디자인</td>
      <td>106648</td>
      <td>216.00</td>
      <td>0.20</td>
      <td>425.03</td>
      <td>91806</td>
    </tr>
    <tr>
      <th>한글폰트</th>
      <td>타이포그래피와 편집디자인</td>
      <td>82983</td>
      <td>206.40</td>
      <td>0.25</td>
      <td>307.62</td>
      <td>63492</td>
    </tr>
    <tr>
      <th>마블</th>
      <td>ㅍAOP 전체_중복키워드_디자인(삭제)</td>
      <td>907619</td>
      <td>228.00</td>
      <td>0.03</td>
      <td>265.50</td>
      <td>60533</td>
    </tr>
    <tr>
      <th>바이럴마케팅</th>
      <td>마케팅 전체</td>
      <td>3095998</td>
      <td>261.60</td>
      <td>0.01</td>
      <td>220.04</td>
      <td>57563</td>
    </tr>
  </tbody>
</table>
</div>




```python
#index - 중점관리키워드 출력
result.index
```




    Index(['-', '-', '일러스트', '-', 'HTML', '파이썬', '코딩', 'C언어', '가상화폐', '포토샵',
           '블록체인', '엑셀', '-', '포토샵', '컴퓨터활용능력', '컴퓨터활용능력2급', '컴퓨터활용능력1급', '포토샵',
           '-', '프리미어프로', '폰트', '스케치', '포토샵', '글씨체', '한글폰트', '마블', '바이럴마케팅'],
          dtype='object', name='키워드')



### # 저효율키워드 선별


```python
#노출수 선그래프
imp_sort.plot()
plt.show()
```


    
![output_120_0](./img/searchad/output_120_0.png)
    



```python
#클릭수 선그래프
(((df['클릭수'].sort_values()).reset_index()).drop('index',axis=1)).plot()
plt.show()
```


    
![output_121_0](./img/searchad/output_121_0.png)
    



```python
#총비용 선그래프
(((df['총비용(VAT포함,원)'].sort_values()).reset_index()).drop('index',axis=1)).plot()
plt.show()
```


    
![output_122_0](./img/searchad/output_122_0.png)
    


- 노출수, 클릭수  기준 상위 5%의 키워드가 아닌데도 불구하고 비용이 많이 쓰이고 있는 키워드
 1. 노출수 95백분위수 미만
 2. 클릭수 95백분위수 미만
 3. 총비용 85백분위수 이상
 4. 총비용 95백분위수 미만
 
 ### # 조건이 여러개일  경우 
 - 데이터프레임[(조건문)&(조건문)]


```python
#df_index로 cost 변수 생성
cost=df_index['총비용(VAT포함,원)']
```


```python
# 데이터프레임[(조건문)&(조건문)]
result=df_index[(imp<imp.quantile(0.95))&(clk<clk.quantile(0.95))&(cost>=cost.quantile(0.85))&(cost<cost.quantile(0.95))]
```


```python
#index - 저효율키워드 출력
result.index
```




    Index(['온라인마케팅교육', '온라인마케팅', '어플제작비용', '부동산경매', '퍼포먼스마케팅', '블록체인', 'C++',
           '게임만드는프로그램', '엑셀배우기', '앱만들기', '영상제작', '쇼핑몰제작', '에프터이펙트', '어플리케이션제작',
           '강남빌딩매매', '웹디자인', '디지털마케팅', '포토샵강의', '구글애널리틱스자격증', 'PYTHON', '페이스북광고',
           '유튜브마케팅', '게임제작', '부동산투자', '마케팅전략', 'PYTHON', '홈페이지만들기', 'B2B사이트',
           'JAVASCRIPT', '파이썬강좌', '인스타그램광고', '동영상제작', 'SEO', '쇼핑몰창업', '인터넷쇼핑몰',
           '게임프로그래밍학원', '프로그래밍', '서울빌딩매매', '데이터사이언스', '모바일게임제작', '엑셀학원',
           '유튜브크리에이터', '엑셀VBA', '영상편집학원', '텐서플로우', '쇼핑몰홈페이지제작', '엑셀교육', '그로스해킹',
           '게임개발', '광고대행사', '통계학원', '모바일앱개발', '안드로이드앱만들기', '파이썬기초', '하이브리드앱',
           '온라인마케팅', '인디자인', '검색엔진최적화', '엑셀실무', '인터넷쇼핑몰제작', '상가빌딩매매', '퍼포먼스마케팅',
           '쇼핑몰', 'UX디자인', '유니티강좌', 'VBA', '코딩이란', 'SNS마케팅', 'GA자격증', '콘텐츠제작',
           '구글애널리틱스', 'UI디자인', '1인미디어', '포토샵자격증', '하이브리드앱', '포토샵자격증', '브랜드네이밍',
           '리플렛디자인', '데이터사이언티스트', '유니티3D', '자바스크립트', '일러스트레이터강좌', '데이터분석준전문가',
           '유튜브편집', '모션그래픽', '리플렛디자인', 'SPRING', '어도비일러스트레이터', 'SNS광고', '쇼핑몰촬영',
           '브랜드마케팅', '데이터분석', 'PHP', 'UXUI', 'SQL', 'UI디자인', '웹크롤링'],
          dtype='object', name='키워드')



# 광고그룹 분석
- 학습목표 : 
 1. groupby함수 사용실습
 2. 키워드 분석과정에서 진행한 코딩 복습

![searchad3](./img/searchad/searchad3.png)

### as-is : 키워드  기준 분석
- 키워드의 노출수/클릭수/총비용...

### to-be : 광고그룹 기준 분석
- 데이터의 구성을 광고그룹 기준으로 변경해야함
- 광고그룹의 노출수/클릭수/총비용...
- groupby 함수 사용


```python
#groupby - 전달된 열을 기준으로 전체 데이터를 분류
grouped=df.groupby('광고그룹') #텍스트 오름차순으로 정렬됨
```


```python
#해당변수 출력시 객체정보만 출력됨
grouped
#데이터를 살펴보기 위하여는 집계함수 사용해야 함
```




    <pandas.core.groupby.generic.DataFrameGroupBy object at 0x0000014193D347F0>




```python
#count - 각 광고그룹 데이터의 개수
grouped.count()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>키워드</th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>48</td>
      <td>48</td>
      <td>48</td>
      <td>48</td>
      <td>48</td>
      <td>48</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>10</td>
      <td>10</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
      <td>9</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>5</td>
      <td>5</td>
      <td>5</td>
      <td>5</td>
      <td>5</td>
      <td>5</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>포토샵 유치원_일러스트레이터 유치원</th>
      <td>13</td>
      <td>13</td>
      <td>13</td>
      <td>13</td>
      <td>13</td>
      <td>13</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
      <td>8</td>
    </tr>
    <tr>
      <th>프로그래밍 전체</th>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
      <td>12</td>
    </tr>
    <tr>
      <th>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</th>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
      <td>3</td>
    </tr>
    <tr>
      <th>프론트엔드 개발 스쿨 12기_기존 키워드</th>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
<p>186 rows × 6 columns</p>
</div>




```python
#mean -각 광고그룹 데이터의 평균
grouped.mean()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>14780.15</td>
      <td>8.40</td>
      <td>0.18</td>
      <td>625.09</td>
      <td>7243.96</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>5738.56</td>
      <td>6.80</td>
      <td>0.23</td>
      <td>298.69</td>
      <td>2427.33</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>3715.00</td>
      <td>20.28</td>
      <td>0.89</td>
      <td>1021.47</td>
      <td>19575.60</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>13413.78</td>
      <td>8.53</td>
      <td>0.11</td>
      <td>360.04</td>
      <td>4796.00</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>3090.80</td>
      <td>4.08</td>
      <td>0.09</td>
      <td>69.93</td>
      <td>550.00</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>포토샵 유치원_일러스트레이터 유치원</th>
      <td>72092.69</td>
      <td>16.71</td>
      <td>0.05</td>
      <td>648.33</td>
      <td>15781.62</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>5921.62</td>
      <td>7.80</td>
      <td>0.22</td>
      <td>2032.33</td>
      <td>23617.00</td>
    </tr>
    <tr>
      <th>프로그래밍 전체</th>
      <td>90375.00</td>
      <td>9.20</td>
      <td>0.02</td>
      <td>123.88</td>
      <td>1626.17</td>
    </tr>
    <tr>
      <th>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</th>
      <td>65353.33</td>
      <td>2344.40</td>
      <td>3.64</td>
      <td>192.77</td>
      <td>431159.67</td>
    </tr>
    <tr>
      <th>프론트엔드 개발 스쿨 12기_기존 키워드</th>
      <td>2015.00</td>
      <td>2.40</td>
      <td>0.12</td>
      <td>64.17</td>
      <td>154.00</td>
    </tr>
  </tbody>
</table>
<p>186 rows × 5 columns</p>
</div>




```python
#median - 그룹 데이터의 중앙값
grouped.median()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>2765.00</td>
      <td>3.60</td>
      <td>0.06</td>
      <td>765.97</td>
      <td>2458.50</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>5524.00</td>
      <td>2.40</td>
      <td>0.04</td>
      <td>357.50</td>
      <td>1023.00</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>1813.00</td>
      <td>13.80</td>
      <td>0.57</td>
      <td>1096.80</td>
      <td>13464.00</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>5184.00</td>
      <td>3.60</td>
      <td>0.03</td>
      <td>119.17</td>
      <td>1287.00</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>2649.00</td>
      <td>1.20</td>
      <td>0.09</td>
      <td>73.33</td>
      <td>88.00</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>포토샵 유치원_일러스트레이터 유치원</th>
      <td>5763.00</td>
      <td>3.60</td>
      <td>0.02</td>
      <td>852.50</td>
      <td>2706.00</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>3748.00</td>
      <td>3.00</td>
      <td>0.12</td>
      <td>1763.82</td>
      <td>8002.50</td>
    </tr>
    <tr>
      <th>프로그래밍 전체</th>
      <td>3455.50</td>
      <td>1.20</td>
      <td>0.01</td>
      <td>130.50</td>
      <td>225.50</td>
    </tr>
    <tr>
      <th>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</th>
      <td>64981.00</td>
      <td>2798.40</td>
      <td>3.52</td>
      <td>239.81</td>
      <td>334961.00</td>
    </tr>
    <tr>
      <th>프론트엔드 개발 스쿨 12기_기존 키워드</th>
      <td>2015.00</td>
      <td>2.40</td>
      <td>0.12</td>
      <td>64.17</td>
      <td>154.00</td>
    </tr>
  </tbody>
</table>
<p>186 rows × 5 columns</p>
</div>




```python
#std - 그룹 데이터의 표준편차
grouped.std()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>43495.11</td>
      <td>17.73</td>
      <td>0.31</td>
      <td>472.87</td>
      <td>15854.71</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>4182.62</td>
      <td>9.14</td>
      <td>0.47</td>
      <td>176.15</td>
      <td>3220.04</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>4109.84</td>
      <td>18.32</td>
      <td>0.82</td>
      <td>269.59</td>
      <td>19127.40</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>19333.63</td>
      <td>14.71</td>
      <td>0.17</td>
      <td>371.70</td>
      <td>10077.59</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>1996.65</td>
      <td>7.18</td>
      <td>0.11</td>
      <td>69.11</td>
      <td>1005.28</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>포토샵 유치원_일러스트레이터 유치원</th>
      <td>188247.58</td>
      <td>35.27</td>
      <td>0.06</td>
      <td>470.85</td>
      <td>37543.64</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>6642.34</td>
      <td>9.77</td>
      <td>0.25</td>
      <td>1649.70</td>
      <td>37088.92</td>
    </tr>
    <tr>
      <th>프로그래밍 전체</th>
      <td>200385.15</td>
      <td>17.26</td>
      <td>0.03</td>
      <td>119.98</td>
      <td>2801.70</td>
    </tr>
    <tr>
      <th>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</th>
      <td>25831.51</td>
      <td>820.88</td>
      <td>0.61</td>
      <td>121.02</td>
      <td>335034.37</td>
    </tr>
    <tr>
      <th>프론트엔드 개발 스쿨 12기_기존 키워드</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>186 rows × 5 columns</p>
</div>




```python
#var - 그룹 데이터의 분산
grouped.var()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>1891824593.19</td>
      <td>314.41</td>
      <td>0.10</td>
      <td>223602.50</td>
      <td>251371923.49</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>17494344.53</td>
      <td>83.52</td>
      <td>0.22</td>
      <td>31027.33</td>
      <td>10368671.50</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>16890757.78</td>
      <td>335.50</td>
      <td>0.67</td>
      <td>72677.81</td>
      <td>365857245.60</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>373789206.44</td>
      <td>216.52</td>
      <td>0.03</td>
      <td>138163.90</td>
      <td>101557901.50</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>3986602.70</td>
      <td>51.55</td>
      <td>0.01</td>
      <td>4775.52</td>
      <td>1010592.00</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>포토샵 유치원_일러스트레이터 유치원</th>
      <td>35437152679.06</td>
      <td>1243.79</td>
      <td>0.00</td>
      <td>221698.50</td>
      <td>1409525055.09</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>44120700.55</td>
      <td>95.45</td>
      <td>0.06</td>
      <td>2721526.39</td>
      <td>1375588223.43</td>
    </tr>
    <tr>
      <th>프로그래밍 전체</th>
      <td>40154209477.09</td>
      <td>298.04</td>
      <td>0.00</td>
      <td>14394.51</td>
      <td>7849530.33</td>
    </tr>
    <tr>
      <th>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</th>
      <td>667267044.33</td>
      <td>673851.36</td>
      <td>0.37</td>
      <td>14645.70</td>
      <td>112248026722.33</td>
    </tr>
    <tr>
      <th>프론트엔드 개발 스쿨 12기_기존 키워드</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
<p>186 rows × 5 columns</p>
</div>



# 광고그룹 기준 데이터 전처리


```python
#그룹데이터의 합계(sum) - 노출수,클릭수,총비용 칼럼
grouped.sum()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>709447</td>
      <td>403.20</td>
      <td>8.83</td>
      <td>30004.14</td>
      <td>347710</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>51647</td>
      <td>61.20</td>
      <td>2.10</td>
      <td>2688.24</td>
      <td>21846</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>37150</td>
      <td>202.80</td>
      <td>8.91</td>
      <td>10214.73</td>
      <td>195756</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>120724</td>
      <td>76.80</td>
      <td>1.00</td>
      <td>3240.35</td>
      <td>43164</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>15454</td>
      <td>20.40</td>
      <td>0.45</td>
      <td>349.64</td>
      <td>2750</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>포토샵 유치원_일러스트레이터 유치원</th>
      <td>937205</td>
      <td>217.20</td>
      <td>0.66</td>
      <td>8428.26</td>
      <td>205161</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>47373</td>
      <td>62.40</td>
      <td>1.80</td>
      <td>16258.61</td>
      <td>188936</td>
    </tr>
    <tr>
      <th>프로그래밍 전체</th>
      <td>1084500</td>
      <td>110.40</td>
      <td>0.29</td>
      <td>1486.58</td>
      <td>19514</td>
    </tr>
    <tr>
      <th>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</th>
      <td>196060</td>
      <td>7033.20</td>
      <td>10.93</td>
      <td>578.32</td>
      <td>1293479</td>
    </tr>
    <tr>
      <th>프론트엔드 개발 스쿨 12기_기존 키워드</th>
      <td>2015</td>
      <td>2.40</td>
      <td>0.12</td>
      <td>64.17</td>
      <td>154</td>
    </tr>
  </tbody>
</table>
<p>186 rows × 5 columns</p>
</div>




```python
#df_group 변수 출력
df_group=grouped.sum()
df_group
# 클릭률, 평균클릭비용 칼럼 전처리 
# as-is : 키워드에 대한 클릭률의 총합(sum), 키워드에 대한 평균클릭비용의 총합(sum)
# to-be : 광고그룹에 대한 클릭률, 광고그룹에 대한 평균클릭비용
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>709447</td>
      <td>403.20</td>
      <td>8.83</td>
      <td>30004.14</td>
      <td>347710</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>51647</td>
      <td>61.20</td>
      <td>2.10</td>
      <td>2688.24</td>
      <td>21846</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>37150</td>
      <td>202.80</td>
      <td>8.91</td>
      <td>10214.73</td>
      <td>195756</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>120724</td>
      <td>76.80</td>
      <td>1.00</td>
      <td>3240.35</td>
      <td>43164</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>15454</td>
      <td>20.40</td>
      <td>0.45</td>
      <td>349.64</td>
      <td>2750</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>포토샵 유치원_일러스트레이터 유치원</th>
      <td>937205</td>
      <td>217.20</td>
      <td>0.66</td>
      <td>8428.26</td>
      <td>205161</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>47373</td>
      <td>62.40</td>
      <td>1.80</td>
      <td>16258.61</td>
      <td>188936</td>
    </tr>
    <tr>
      <th>프로그래밍 전체</th>
      <td>1084500</td>
      <td>110.40</td>
      <td>0.29</td>
      <td>1486.58</td>
      <td>19514</td>
    </tr>
    <tr>
      <th>프로그래밍 전체_파워컨텐츠_블록체인(삭제)</th>
      <td>196060</td>
      <td>7033.20</td>
      <td>10.93</td>
      <td>578.32</td>
      <td>1293479</td>
    </tr>
    <tr>
      <th>프론트엔드 개발 스쿨 12기_기존 키워드</th>
      <td>2015</td>
      <td>2.40</td>
      <td>0.12</td>
      <td>64.17</td>
      <td>154</td>
    </tr>
  </tbody>
</table>
<p>186 rows × 5 columns</p>
</div>




```python
#클릭률(ctr) = 클릭수 / 노출수
#데이터전처리 - 데이터프레임의 열 단위 수치연산
df_group['클릭률(%)']=df_group['클릭수']/df_group['노출수']
```


```python
#평균클릭비용(cpc) = 총비용 / 클릭수
#데이터전처리 - 데이터프레임의 열 단위 수치연산
df_group['평균클릭비용(VAT포함,원)']=df_group['총비용(VAT포함,원)']/df_group['클릭수']
```


```python
#클릭수 칼럼 중 0인 데이터가 존재 => 평균클릭비용 칼럼 중 결측값이 존재
df_group[df_group['클릭수']==0]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Hyperledger Fabric 프로젝트 CAMP</th>
      <td>1990</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fin_camp_business_4</th>
      <td>2136</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fin_camp_rfs_9</th>
      <td>1928</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>0</td>
    </tr>
    <tr>
      <th>다함께 DDD 프로젝트</th>
      <td>3689</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>0</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 디지털 마케팅_인스타광고</th>
      <td>1377</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>NaN</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
#fillna - 전달된 값으로 결측값을 대체하는 함수 
#평균클릭비용
df_group['평균클릭비용(VAT포함,원)']=df_group['평균클릭비용(VAT포함,원)'].fillna(0)
```


```python
df_group[df_group['클릭수']==0]
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Hyperledger Fabric 프로젝트 CAMP</th>
      <td>1990</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fin_camp_business_4</th>
      <td>2136</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>fin_camp_rfs_9</th>
      <td>1928</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>다함께 DDD 프로젝트</th>
      <td>3689</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 디지털 마케팅_인스타광고</th>
      <td>1377</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0.00</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
</div>




```python
# 평균클릭비용 칼럼 반올림처리(round), 소수점 제거(astype(int)
df_group['평균클릭비용(VAT포함,원)']=round(df_group['평균클릭비용(VAT포함,원)'],0)
df_group['평균클릭비용(VAT포함,원)']=df_group['평균클릭비용(VAT포함,원)'].astype(int)
```


```python
#head()
df_group.head()
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>#000_마케팅 전체_main</th>
      <td>709447</td>
      <td>403.20</td>
      <td>0.00</td>
      <td>862</td>
      <td>347710</td>
    </tr>
    <tr>
      <th>001.BASIC DESIGN</th>
      <td>51647</td>
      <td>61.20</td>
      <td>0.00</td>
      <td>357</td>
      <td>21846</td>
    </tr>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>37150</td>
      <td>202.80</td>
      <td>0.01</td>
      <td>965</td>
      <td>195756</td>
    </tr>
    <tr>
      <th>002.R</th>
      <td>120724</td>
      <td>76.80</td>
      <td>0.00</td>
      <td>562</td>
      <td>43164</td>
    </tr>
    <tr>
      <th>002.UX/UI</th>
      <td>15454</td>
      <td>20.40</td>
      <td>0.00</td>
      <td>135</td>
      <td>2750</td>
    </tr>
  </tbody>
</table>
</div>



# 데이터 시각화 


```python
#노출수 칼럼 선그래프
df_group['노출수'].plot()
plt.show()
```


    
![output_147_0](./img/searchad/output_147_0.png)
    


- 명확한 패턴이 보일 수 있도록 데이터시각화 진행
 1. as-is : index를 기준으로 출력(그래프의 x축이 시리즈의 인덱스)
 2. <u>to-be : 정렬된 value를 기준으로 출력</u><br>
  2-1. 시리즈의 value를 수치 순서대로 오름차순 정렬<br>
  2-2. 정렬된 데이터의 형태대로 index 재생성 후 시각화


```python
#노출수 칼럼 선그래프
#sort_values(),reset_index(),drop('index',axis=1),plot - 한줄 코딩(괄호사용)
(((df_group['노출수'].sort_values()).reset_index()).drop('광고그룹',axis=1)).plot()
plt.show()
```


    
![output_149_0](./img/searchad/output_149_0.png)
    



```python
#클릭수 칼럼 선그래프
(((df_group['클릭수'].sort_values()).reset_index()).drop('광고그룹',axis=1)).plot()
plt.show()
```


    
![output_150_0](./img/searchad/output_150_0.png)
    



```python
#총비용 칼럼 선그래프
(((df_group['총비용(VAT포함,원)'].sort_values()).reset_index()).drop('광고그룹',axis=1)).plot()
plt.show()
```


    
![output_151_0](./img/searchad/output_151_0.png)
    


### # 중점관리 광고그룹 / 저효율 광고그룹

- 중점관리 광고그룹
 1. 상위20%(노출수 80백분위수 이상)
 2. 상위10%(클릭수 90백분위수 이상)


```python
#df_group에서 imp, clk 변수 생성
imp=df_group['노출수']
clk=df_group['클릭수']
```


```python
#조건이 여러개일 경우 
#데이터프레임[(조건문)&(조건문)]
result=df_group[(imp>=imp.quantile(0.8))&(clk>=clk.quantile(0.9))]
```


```python
#index - 중점관리 광고그룹 출력
result.index
```




    Index(['#000_마케팅 전체_main', '1. 코딩', '3. html', '6. 파이썬', 'AOP 전체_중복키워드_디자인',
           'AOP 전체_중복키워드_비지니스', 'ㅍAOP 전체_중복키워드_디자인(삭제)', '마케팅 전체',
           '올인원 패키지 : 데이터 분석 입문 온라인_파콘', '올인원 패키지 : 디자인 툴_파워컨텐츠_포토샵',
           '올인원 패키지 : 업무자동화_VBA', '타이포그래피와 편집디자인', '프로그래밍 전체_파워컨텐츠_블록체인(삭제)'],
          dtype='object', name='광고그룹')



- 저효율 광고그룹 : 
 노출수, 클릭수  기준 상위의 키워드가 아닌데도 불구하고 비용이 많이 쓰이고 있는 광고그룹
 1. 노출수 80백분위수 미만
 2. 클릭수 90백분위수 미만
 3. 총비용 60백분위수 이상
 4. 총비용 90백분위수 미만


```python
#df_group에서 cost 변수 생성
cost=df_group['총비용(VAT포함,원)']
```


```python
#조건이 여러개일 경우 
#데이터프레임[(조건문)&(조건문)]
result=df_group[(imp<imp.quantile(0.8))&(clk<clk.quantile(0.9))&(cost>=cost.quantile(0.6))&(cost<cost.quantile(0.9))]
```


```python
#index - 저효율 광고그룹 출력
result.index
```




    Index(['001.데이터분석/ 통계', '002.마케팅 입문', '003.퍼포먼스 마케팅', '1. 전체', '2. 프로그래밍',
           '5. 자료구조', 'AOP 전체_중복키워드_공통', 'AOP 전체_중복키워드_데이터사이언스',
           'AOP 전체_중복키워드_프로그래밍', 'JavaScript BOOT CAMP',
           'Python & Django를 활용한 웹 서비스_개발자', 'SEO/SEM 전략',
           'TensorFlow로 시작하는 딥러닝 입문', 'fin_camp_auction_6', 'ㅍAOP 전체_중복키워드_공통(삭제)',
           'ㅍAOP 전체_중복키워드_마케팅(삭제)', 'ㅍAOP 전체_중복키워드_프로그래밍(삭제)',
           'ㅍ올인원 패키지 : UX/UI 디자인 입문_연관검색어(삭제)', 'ㅍ올인원 패키지 : 브랜딩',
           '고객의 마음을 읽는 구글애널리틱스', '대기업을 이기는 브랜딩 전략', '마케터를 위한 데이터 부트캠프',
           '마케터를 위한 데이터 해석 실전', '마케팅 유치원', '마케팅KPI수립',
           '올인원 패키지 : 1인 쇼핑몰 시작하기_02.쇼핑몰구축', '올인원 패키지 : 1인 쇼핑몰_00.창업_MO',
           '올인원 패키지 : UX/UI 디자인 입문_연관검색어', '올인원 패키지 : 그로스해킹_5.마케팅 분석',
           '올인원 패키지 : 디지털 마케팅_1. 디지털 마케팅', '올인원 패키지 : 브랜딩',
           '올인원 패키지 : 업무자동화_1. 자동화', '올인원 패키지 : 업무자동화_4. VBA',
           '올인원 패키지 : 영상 제작/편집_9.유튜브/유튜버', '왕초보의 파이썬 웹 프로그래밍 CAMP',
           '코딩으로 여행하는 블록체인 서비스', '페이스북&인스타그램 마케팅 실전', '프로그래밍 유치원'],
          dtype='object', name='광고그룹')




```python
result
```




<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>노출수</th>
      <th>클릭수</th>
      <th>클릭률(%)</th>
      <th>평균클릭비용(VAT포함,원)</th>
      <th>총비용(VAT포함,원)</th>
    </tr>
    <tr>
      <th>광고그룹</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>001.데이터분석/ 통계</th>
      <td>37150</td>
      <td>202.80</td>
      <td>0.01</td>
      <td>965</td>
      <td>195756</td>
    </tr>
    <tr>
      <th>002.마케팅 입문</th>
      <td>20372</td>
      <td>188.40</td>
      <td>0.01</td>
      <td>570</td>
      <td>107371</td>
    </tr>
    <tr>
      <th>003.퍼포먼스 마케팅</th>
      <td>10453</td>
      <td>164.40</td>
      <td>0.02</td>
      <td>3152</td>
      <td>518177</td>
    </tr>
    <tr>
      <th>1. 전체</th>
      <td>124351</td>
      <td>128.40</td>
      <td>0.00</td>
      <td>1409</td>
      <td>180906</td>
    </tr>
    <tr>
      <th>2. 프로그래밍</th>
      <td>109531</td>
      <td>182.40</td>
      <td>0.00</td>
      <td>2239</td>
      <td>408364</td>
    </tr>
    <tr>
      <th>5. 자료구조</th>
      <td>40328</td>
      <td>46.80</td>
      <td>0.00</td>
      <td>4317</td>
      <td>202037</td>
    </tr>
    <tr>
      <th>AOP 전체_중복키워드_공통</th>
      <td>4336</td>
      <td>66.00</td>
      <td>0.02</td>
      <td>4624</td>
      <td>305195</td>
    </tr>
    <tr>
      <th>AOP 전체_중복키워드_데이터사이언스</th>
      <td>14439</td>
      <td>56.40</td>
      <td>0.00</td>
      <td>4728</td>
      <td>266640</td>
    </tr>
    <tr>
      <th>AOP 전체_중복키워드_프로그래밍</th>
      <td>7580</td>
      <td>39.60</td>
      <td>0.01</td>
      <td>7432</td>
      <td>294316</td>
    </tr>
    <tr>
      <th>JavaScript BOOT CAMP</th>
      <td>36569</td>
      <td>84.00</td>
      <td>0.00</td>
      <td>5285</td>
      <td>443938</td>
    </tr>
    <tr>
      <th>Python &amp; Django를 활용한 웹 서비스_개발자</th>
      <td>142939</td>
      <td>111.60</td>
      <td>0.00</td>
      <td>2777</td>
      <td>309947</td>
    </tr>
    <tr>
      <th>SEO/SEM 전략</th>
      <td>19245</td>
      <td>60.00</td>
      <td>0.00</td>
      <td>3143</td>
      <td>188551</td>
    </tr>
    <tr>
      <th>TensorFlow로 시작하는 딥러닝 입문</th>
      <td>18280</td>
      <td>91.20</td>
      <td>0.00</td>
      <td>1125</td>
      <td>102608</td>
    </tr>
    <tr>
      <th>fin_camp_auction_6</th>
      <td>80917</td>
      <td>272.40</td>
      <td>0.00</td>
      <td>1850</td>
      <td>504064</td>
    </tr>
    <tr>
      <th>ㅍAOP 전체_중복키워드_공통(삭제)</th>
      <td>3974</td>
      <td>25.20</td>
      <td>0.01</td>
      <td>3922</td>
      <td>98835</td>
    </tr>
    <tr>
      <th>ㅍAOP 전체_중복키워드_마케팅(삭제)</th>
      <td>130583</td>
      <td>156.00</td>
      <td>0.00</td>
      <td>2064</td>
      <td>322047</td>
    </tr>
    <tr>
      <th>ㅍAOP 전체_중복키워드_프로그래밍(삭제)</th>
      <td>4595</td>
      <td>22.80</td>
      <td>0.00</td>
      <td>4790</td>
      <td>109219</td>
    </tr>
    <tr>
      <th>ㅍ올인원 패키지 : UX/UI 디자인 입문_연관검색어(삭제)</th>
      <td>144292</td>
      <td>135.60</td>
      <td>0.00</td>
      <td>2469</td>
      <td>334840</td>
    </tr>
    <tr>
      <th>ㅍ올인원 패키지 : 브랜딩</th>
      <td>45117</td>
      <td>219.60</td>
      <td>0.00</td>
      <td>2220</td>
      <td>487443</td>
    </tr>
    <tr>
      <th>고객의 마음을 읽는 구글애널리틱스</th>
      <td>52694</td>
      <td>324.00</td>
      <td>0.01</td>
      <td>942</td>
      <td>305338</td>
    </tr>
    <tr>
      <th>대기업을 이기는 브랜딩 전략</th>
      <td>22247</td>
      <td>62.40</td>
      <td>0.00</td>
      <td>1573</td>
      <td>98175</td>
    </tr>
    <tr>
      <th>마케터를 위한 데이터 부트캠프</th>
      <td>6326</td>
      <td>55.20</td>
      <td>0.01</td>
      <td>3275</td>
      <td>180774</td>
    </tr>
    <tr>
      <th>마케터를 위한 데이터 해석 실전</th>
      <td>24293</td>
      <td>112.80</td>
      <td>0.00</td>
      <td>1108</td>
      <td>125004</td>
    </tr>
    <tr>
      <th>마케팅 유치원</th>
      <td>19427</td>
      <td>144.00</td>
      <td>0.01</td>
      <td>2094</td>
      <td>301532</td>
    </tr>
    <tr>
      <th>마케팅KPI수립</th>
      <td>108693</td>
      <td>75.60</td>
      <td>0.00</td>
      <td>1747</td>
      <td>132099</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 1인 쇼핑몰 시작하기_02.쇼핑몰구축</th>
      <td>88617</td>
      <td>118.80</td>
      <td>0.00</td>
      <td>3330</td>
      <td>395659</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 1인 쇼핑몰_00.창업_MO</th>
      <td>49629</td>
      <td>157.20</td>
      <td>0.00</td>
      <td>2102</td>
      <td>330506</td>
    </tr>
    <tr>
      <th>올인원 패키지 : UX/UI 디자인 입문_연관검색어</th>
      <td>124692</td>
      <td>183.60</td>
      <td>0.00</td>
      <td>3306</td>
      <td>607057</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 그로스해킹_5.마케팅 분석</th>
      <td>91720</td>
      <td>34.80</td>
      <td>0.00</td>
      <td>3271</td>
      <td>113839</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 디지털 마케팅_1. 디지털 마케팅</th>
      <td>127110</td>
      <td>110.40</td>
      <td>0.00</td>
      <td>3083</td>
      <td>340329</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 브랜딩</th>
      <td>54211</td>
      <td>130.80</td>
      <td>0.00</td>
      <td>2424</td>
      <td>317108</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 업무자동화_1. 자동화</th>
      <td>35935</td>
      <td>50.40</td>
      <td>0.00</td>
      <td>5162</td>
      <td>260161</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 업무자동화_4. VBA</th>
      <td>131560</td>
      <td>170.40</td>
      <td>0.00</td>
      <td>1014</td>
      <td>172854</td>
    </tr>
    <tr>
      <th>올인원 패키지 : 영상 제작/편집_9.유튜브/유튜버</th>
      <td>76996</td>
      <td>64.80</td>
      <td>0.00</td>
      <td>1376</td>
      <td>89155</td>
    </tr>
    <tr>
      <th>왕초보의 파이썬 웹 프로그래밍 CAMP</th>
      <td>58147</td>
      <td>102.00</td>
      <td>0.00</td>
      <td>2348</td>
      <td>239448</td>
    </tr>
    <tr>
      <th>코딩으로 여행하는 블록체인 서비스</th>
      <td>84089</td>
      <td>86.40</td>
      <td>0.00</td>
      <td>2106</td>
      <td>181918</td>
    </tr>
    <tr>
      <th>페이스북&amp;인스타그램 마케팅 실전</th>
      <td>15019</td>
      <td>196.80</td>
      <td>0.01</td>
      <td>2545</td>
      <td>500852</td>
    </tr>
    <tr>
      <th>프로그래밍 유치원</th>
      <td>47373</td>
      <td>62.40</td>
      <td>0.00</td>
      <td>3028</td>
      <td>188936</td>
    </tr>
  </tbody>
</table>
</div>




```python
#.plot(kind='barh', grid=True, figsize=(10, 10)) 
result.plot(kind='barh', grid=True, figsize=(10,10))
plt.xticks(fontsize=10)
plt.show()
```


    
![output_162_0](./img/searchad/output_162_0.png)
    

  